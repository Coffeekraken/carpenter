<section class="row components">
	<div class="gr-12">

		{{#if components.readmeContent}}
			<div class="tf vr m-b-big" id="readme-content">
				{{{ components.readmeContent }}}
			</div>
		{{else}}
			<h1 class="h1 m-b">
				{{components.title}}
			</h1>
		{{/if}}

		{{#if components.viewContent}}
			<a href="#component-view-content" class="toggle-code" is="s-activate" save-state toggle>
				<i class="fa fa-code"></i> Show/hide view source code
			</a>
			<div class="components__view-data" id="component-view-content">
				<pre id="view-content">
					<code class="lang-html">
						{{ components.viewContent }}
					</code>
				</pre>
			</div>
		{{/if}}

		{{#if components.schemaJsonContent}}
			<a href="#component-schema-json-content" class="toggle-code" is="s-activate" save-state toggle>
				<i class="fa fa-code"></i> Show/hide JSON schema
			</a>
			<div class="components__schema-json" id="component-schema-json-content">
				<pre id="schema-json-content">
					<code class="lang-json">
						{{ components.schemaJsonContent }}
					</code>
				</pre>
			</div>
		{{/if}}

		<script>
			function resizeIframe(obj) {
				obj.style.height = obj.contentWindow.document.body.scrollHeight + 40 + 'px';
			}
		</script>

		{{#eachSorted components.variants}}

			<div class="components__separator"></div>

			<h2 class="h2 m-b t-capitalize">{{this.value.title}}</h2>

			<iframe width="100%" height="1" srcdoc="
				{{{ htmlspecialchars this.value.view }}}
				{{#each ../components.inject.styles}}
					<link rel=&quot;stylesheet&quot; href={{{this}}} />
				{{/each}}
				{{#each ../components.inject.scripts}}
					<script src={{{this}}}></script>
				{{/each}}
				<style>
					body { padding: 20px; }
				</style>
			" onload="resizeIframe(this)" id="view-variant-{{sanitizeAttribute this.key}}"></iframe>

			{{#if this.value.dataContent}}
				<a href="#components-data-{{sanitizeAttribute this.key}}" class="toggle-code" is="s-activate" save-state toggle>
					<i class="fa fa-code"></i> Show/hide view data
				</a>
				<div class="components__data-content" id="components-data-{{sanitizeAttribute this.key}}">
					<pre id="data-variant-{{sanitizeAttribute this.key}}">
						<code class="lang-js">
							{{{ this.value.dataContent }}}
						</code>
					</pre>
				</div>
			{{/if}}
		{{/eachSorted}}
	</div>
</section>
